{% extends 'base.html' %}

{% block conteudo %}
    <h1>Lista de Presen√ßa</h1>

    

    <form method="GET" action="{{ url_for('index') }}" class="mb-3">
        <input type="text" name="pesquisa" class="form-control" placeholder="Buscar crismando pelo nome..." value="{{ request.args.get('pesquisa', '') }}">
        <button type="submit" class="btn btn-primary mt-2">Buscar</button>
    </form>    

    <table class="table table-striped table-hover">
        <tr>
            <th>Id</th>
            <th>Nome</th>
            <th>Endereco</th>
            <th>Data de Nascimento</th>
            <th>Status do Crismando</th>
            <th>Catequista/Grupo</th>
        </tr>
        {% for crismando, catequista in lista_crismandos %}
        <tr>
            <td>{{ crismando.id }}</td>
            <td>{{ crismando.nome }}</td>
            <td>{{ crismando.endereco }}</td>
            <td>{{ crismando.data_nascimento.strftime('%d-%m-%Y') if crismando.data_nascimento else 'N/A' }}</td>
            <td>{{ crismando.status_crismando|title }}</td>
            <td>{{ catequista.grupo }}</td>
        </tr>
        {% endfor %}
    </table>


{% endblock %}